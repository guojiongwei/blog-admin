import{n as i}from"./index.19719ba4.js";var a=function(){var n=this,s=n.$createElement,t=n._self._c||s;return t("div",{staticClass:"login-wrapper"},[t("el-form",{staticClass:"login-form"},[t("h3",[n._v("\u7CFB\u7EDF\u767B\u5F55")]),t("el-form-item",{attrs:{prop:"username"}},[t("Icon",{staticClass:"icon-user",attrs:{name:"iconzh1"}}),t("el-input",{staticClass:"username",attrs:{type:"text",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&n._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.login.apply(null,arguments)}},model:{value:n.loginInfo.username,callback:function(e){n.$set(n.loginInfo,"username",e)},expression:"loginInfo.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("Icon",{staticClass:"icon-pwd",attrs:{name:"login_password"}}),t("el-input",{staticClass:"pwd",attrs:{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&n._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.login.apply(null,arguments)}},model:{value:n.loginInfo.pwd,callback:function(e){n.$set(n.loginInfo,"pwd",e)},expression:"loginInfo.pwd"}})],1),t("el-button",{staticClass:"submit",attrs:{type:"primary",loading:n.loading},on:{click:n.login}},[n._v("\u767B\u5F55")])],1)],1)},l=[];const r={name:"login",data(){return{loading:!1,msg:"",loginInfo:{username:"",pwd:""}}},methods:{async login(){if(this.loading=!0,this.loginInfo.username?this.loginInfo.pwd||(this.msg="\u8BF7\u8F93\u5165\u5BC6\u7801"):this.msg="\u8BF7\u8F93\u5165\u7528\u6237\u540D",this.msg){this.$message({message:this.msg,type:"warning"}),this.msg="",this.loading=!1;return}try{await this.$store.dispatch("userLogin",this.loginInfo),this.$router.push("/home")}catch(n){console.log(n)}this.loading=!1}}},o={};var u=i(r,a,l,!1,c,null,null,null);function c(n){for(let s in o)this[s]=o[s]}var m=function(){return u.exports}();export{m as default};
